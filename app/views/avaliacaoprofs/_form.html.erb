
<% require 'time'%>

<%= form_for(avaliacaoprof) do |f| %>
  <% if avaliacaoprof.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(avaliacaoprof.errors.count, "error") %> prohibited this avaliacaoprof from being saved:</h2>

      <ul>
      <% avaliacaoprof.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

   <div class="row">
    <div class="col s12 m8 lg8 offset-m2">
     
 <div class="card-panel ">
   <%= f.hidden_field:user_id,:value =>current_user.id %>
   <%= f.hidden_field:data_avaliacao,:value => DateTime.now %>



   <div class="row">
     <div class="col s12 m6 lg6"><b><%= f.label :professor_id, "Professor" %></b></div>
     <div class="col s12 m12 lg12"> <%=collection_select(:avaliacaoprof, :professor_id, @professor, :id, :nome, {:prompt => '' }, { class: 'js-searchable' })%></div>
   </div>
   
   <div class="row">
     <div class="col s12 m6 lg6"><b><%= f.label :disciplinacurso_id, "Disciplina" %></b></div>
     <div class="col s12 m12 lg12"> <%=collection_select(:avaliacaoprof, :disciplinacurso_id, @disciplinacurso, :id, :nome, {:prompt => '' }, { class: 'js-searchable' })%></div>
   </div>

   <div class="row">
     <div class="col s12 m6 lg6"><b><%= f.label :semestre_id, "Semestre" %></b></div>
     <div class="col s12 m12 lg12"> <%=collection_select(:avaliacaoprof, :semestre_id, @semestre, :id, :semestre, {:prompt => '' }, { class: 'js-searchable' })%></div>
   </div>
    
    <div class="row">     
        <div class="col s12 m12 lg12 grey-text"> <b>Possui domínio do conteúdo?</b> </div>
        <div class="col s3 m2 lg2"><label ><%= f.radio_button :dominio_conteudo, 1, id:"1"%> <span><i class="fas fa-thumbs-up fa-2x"></span></i></label></div>
        <div class="col s3 m2 lg2"><label><%= f.radio_button :dominio_conteudo, 2, id:"2" %> <span><i class="fas fa-thumbs-down fa-2x"></span></i></label></div>
    </div> 
    
    
    <div class="row">     
        <div class="col s12 m12 lg12 grey-text"> <b>Se relaciona bem com os alunos?</b> </div>
        <div class="col s3 m2 lg2"><label ><%= f.radio_button :relacionamento_alunos, 1, id:"3"%> <span><i class="fas fa-thumbs-up fa-2x"></span></i></label></div>
        <div class="col s3 m2 lg2"><label><%= f.radio_button :relacionamento_alunos, 2, id:"4" %> <span><i class="fas fa-thumbs-down fa-2x"></span></i></label></div>
    </div>
    
    <div class="row">     
        <div class="col s12 m12 lg12 grey-text"> <b>Possui boa didática?</b> </div>
        <div class="col s3 m2 lg2"><label ><%= f.radio_button :possui_didatica, 1, id:"5"%> <span><i class="fas fa-thumbs-up fa-2x"></span></i></label></div>
        <div class="col s3 m2 lg2"><label><%= f.radio_button :possui_didatica, 2, id:"6" %> <span><i class="fas fa-thumbs-down fa-2x"></span></i></label></div>
    </div>
     
  <br>
  
   <div class="row">        
   <div class="col s12 m12 lg12"><label><b> Gostaria de adicionar alguma tag?</b></label>  </div>  
   </div>
   <div class="row">    
    <div class="col s12 m12 lg12">
     <% @tag = Tag.all 
       
      @tag.each do |tag| %>
        <div class="col "> 
         <!-- <div class="chip" id=<%=tag.id.to_s%> >
            <%=tag.tag%>
           </div>-->
              <div class="chip" id=<%=tag.id.to_s%>>
                <%=tag.tag%>
              </div>
         </div>
      <%end%>
      </div>
   </div>
  
 <br>
 <div class="row">         
   <div class="col s12 m12 lg12"> <label><b> Recomendaria esse professor? </b></label>  </div>
  <div class="col s12 m6 lg6">  <%= f.range_field(:recomendaria_professor, in: 1..5, id:'test5', class:'range-field') %> </div>
 </div>  

 <br>
  
 <div class="row">         
    <%= f.submit "Avaliar", class: 'btn waves-effect waves-light light-blue btn-small white-text'%>  </div>  
 </div>  
<% end %>

</div>
</div>
</div>

<script>
      $(".chip").click(function(e){
        e.preventDefault()
        $(this).css({"background":"green"})
        $(this).append('<input type="hidden" name="tags[]" value="'+$(this).attr('id')+'">')
        //depois qe clica, pinta de verde e insere na lista faz o que
        //e depois?
      });
      
      $(".close").click(function(e){
        e.preventDefault()
        $(this).css({"background":"blue"})
       
      });

      $(".js-searchable").select2({
         placeholder: 'Informe o Professor',
         allowClear: true,
         width:'100%',
         tags: "true"
     });
     
</script>












